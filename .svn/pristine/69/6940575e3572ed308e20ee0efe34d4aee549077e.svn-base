#ifndef __W5500SPI_H
#define __W5500SPI_H

#include "sys.h"

#define W5500MOSIPORT			GPIOH
#define W5500MOSIPIN			3

#define W5500MISOPORT			GPIOH
#define W5500MISOPIN			2

#define W5500CLKPORT			GPIOA
#define W5500CLKPIN				1

#define W5500CSPORT				GPIOA
#define W5500CSPIN				0

#define W5500RSTPORT			GPIOH
#define W5500RSTPIN				4

#define W5500INTPORT			GPIOH
#define W5500INTPIN				5


#define W5500CLRCLK				W5500CLKPORT->ODR &= ~(1<<W5500CLKPIN)
#define W5500SETCLK				W5500CLKPORT->ODR |=  (1<<W5500CLKPIN)

#define W5500CLRMOSI			W5500MOSIPORT->ODR &= ~(1<<W5500MOSIPIN)
#define W5500SETMOSI			W5500MOSIPORT->ODR |=  (1<<W5500MOSIPIN)

#define W5500CLRCS				W5500CSPORT->ODR &= ~(1<<W5500CSPIN)
#define W5500SETCS				W5500CSPORT->ODR |=  (1<<W5500CSPIN)
	
#define W5500CLRRST				W5500RSTPORT->ODR &= ~(1<<W5500RSTPIN)
#define W5500SETRST				W5500RSTPORT->ODR |=  (1<<W5500RSTPIN)

#define W5500MISOVALUE			((W5500MISOPORT->IDR >> W5500MISOPIN) & 0x01)
#define ISW5500NETINT			(((W5500INTPORT->IDR >> W5500INTPIN) & 0x01))

#define W5500IOCLKEN			RCC->AHB1ENR |= 0x81 //使能W5500所用IO时钟


void W5500Spi_Init(void);
u8 W5500Spi_SendByte(u8 dat);
void W5500SetRstValue(u8 val);
void W5500SetCsValue(u8 val);
u8 W5500GetIntIoState(void);

#endif
